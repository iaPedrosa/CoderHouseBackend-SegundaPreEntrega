<!-- index.html -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@5/dark.css" />
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>

{{> header}}

<div class="container">
    <div class="row">
        <div class="col-md-12">

            <br>


            {{!-- Creamos una tabla con la lista de usuarios --}}
   <div class="table-responsive">
    <table class="table table-striped table-bordered table-sm table-dark border-secondary">
        <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Email</th>
                        <th>Rol Actual</th>
                        <th>Cambiar Rol</th>
                        <th>Eliminar</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each users}}
                        <tr>
                            <td>{{this.nombre}} {{this.apellido}}</td>
                            <td>{{this.email}}</td>
                            <td>{{this.rol}}</td>
                        <td>
    <form action="/admin/users/cambiarrol" method="POST" class="row g-2">
        <input type="hidden" name="id" value="{{this.id}}">
        <div class="col-md-8">
            <select name="rol" class="form-select bg-dark text-light w-100" aria-label="Default select example">
                <option value="user">User</option>
                <option value="premium">Premium</option>
                <option value="admin">Admin</option>
            </select>
        </div>
        <div class="col-md-4">
            <button type="submit" class="btn btn-primary w-100">Cambiar</button>
        </div>
    </form>
</td>
<td>
    <form action="/admin/users/eliminar" method="POST" class="row g-2">
        <input type="hidden" name="id" value="{{this.id}}">
        <div class="col-md-12">
            <button type="submit" class="btn btn-danger w-100">Eliminar</button>
        </div>
    </form>
</td>


                        </tr>
                        
                    {{/each}}
                </tbody>
            </table>

        </div>
    </div>
</div>
